# Основные файлы запуска приложения + начальная конфигурация

Любое приложение может быть запущено как само-по себе, так и в докере. 
С возможностью запуска как отдельно ядра,
например на FastAPI, так и уже непосредственно через ASGI сервер и с использованием nginx. 
Для всего этого придумано несколько файлов, обслуживает файлы папка ./__tools


## GENERAL_CONFIG.py

ЗДЕСЬ ОПИСАНА ВСЯ ВАША НАЧАЛЬНАЯ КОНФИГУРАЦИЯ ПРОЕКТА. 
Здесь вы дёргаете за ниточки. 
Здесь определяете потом продакшн конфигурацию. 
Все настройки здесь

## DOCKER_INIT.py (перенесён в корень проекта)

Для докера есть два стандартных файла в корне проекта:

```
docker-compose.yml
Dockerfile
```

Но, как правило, чтобы адекватно что-то взлетело в докере — нужно много чего подготовить. Всё что нужно докеру следует
описать в скрипте DOCKER_INIT.py, используя шаблон проектирования docker_init.py

Обычно это генерация реквориментов, и волюмов

## PRE_LAUNCH.py

Как правило перед запуском ASGI, и ядра приложения - необходимо прогреть движок. 
Тоесть перед стартом надо поделать разные процедурки — какие — описано в файле PRE_LAUNCH.py

Там уже есть всё что нужно для миграторов и первоначального старта ядра, также подгрузка .env. 
Но если требуется что-то ещё — то пишем туда. 

Не путать с первоначальным стартом самого ядра FastAPI например. 
Это начало начал вашего приложения. Даже фаст апи ещё нет и вы что-то делаете. 

Сам по себе файл PRE_LAUNCH.py является приложением, которое необходимо
запустить отдельно. 

Самое главное - редактировать его не нужно. Все скрипты можно описывать в папках 
launch, init

##launch
Папка - в которую складывать любые скрипты ПЕРВОГО ЗАПУСКА
Они импортируются в ОСНОВНОЕ ПРИЛОЖЕНИЕ инициализации в конец (python APP_RUN/PRE_LAUNCH.py). 
И происходит выполнение функции "first_run" - тоесть скрипт обязан её содержать

##init
Папка - в которую складывать любые скрипты ИНИЦИАЛИЗАЦИИ ВОРКЕРА
Они импортируются текущим приложением перед стартом (from APP_RUN.PRE_LAUNCH import APP_INIT). 
И происходит выполнение функции "first_init" - тоесть скрипт обязан её содержать



## ENV.py

Импортировать в любое место, чтобы подгрузить переменные среды 
```
from APP_RUN.ENV import ALL_ENV_LOAD
if ALL_ENV_LOAD:
    print('ENV LOAD')
```


## ZMAIN.py, ZMAIN_test.py, ZMAIN_test_ASGI.py 

ОСНОВНОЙ файл запуска приложения. 
Именно он обозначается докеру как приложение 
Именно он всему голова. 

Есть и другие файлы запуска. Нужны затем, чтобы тестировать 
ASGI без докера (ZMAIN_test_ASGI.py)
Или просто ядро без ASGI (ZMAIN_test.py)